SETUP INSTRUCTIONS - QUICK START

All files have been created. Follow these steps to set up your GitHub repo:

STEP 1: Organize Files on Your Computer
=======================================

1. Create a folder: ha-proxmox-monitoring

2. Inside that folder, create these subfolders:
   - scripts
   - ha-config

3. Copy the files to the correct locations:

ROOT FOLDER (ha-proxmox-monitoring/):
  - README.md
  - QUICKSTART.md
  - DETAILED_SETUP.md
  - .gitignore

SCRIPTS FOLDER (ha-proxmox-monitoring/scripts/):
  - get-r730xd-temps.sh
  - ssh-restrict-temps.sh

HA-CONFIG FOLDER (ha-proxmox-monitoring/ha-config/):
  - sensors.yaml
  - automations.yaml


STEP 2: Initialize Git (Git Bash)
==================================

Open Git Bash and navigate to your folder:

cd ~/ha-proxmox-monitoring

Initialize git:

git init
git config user.name "Your Name"
git config user.email "your@email.com"

Add all files:

git add -A

Check what will be committed:

git status

Commit:

git commit -m "Initial: Home Assistant Proxmox R730XD temperature monitoring with SSH auth"


STEP 3: Create GitHub Repository
==================================

1. Go to https://github.com/new
2. Create a new repository named: ha-proxmox-monitoring
3. Choose: Public (if you want others to use it) or Private (just for you)
4. DO NOT initialize with README, .gitignore, or license (you already have these)
5. Click "Create repository"

GitHub will show you instructions. Use these commands in Git Bash:

git remote add origin https://github.com/YOUR_USERNAME/ha-proxmox-monitoring.git
git branch -M main
git push -u origin main


STEP 4: After First Push
=========================

You can now update files using Git:

To make changes:
1. Edit the file
2. Run: git add filename.ext
3. Run: git commit -m "Description of changes"
4. Run: git push

Or add all changes:
git add -A
git commit -m "Description of changes"
git push


STEP 5: Deploy to Your Systems
================================

ON PROXMOX:

1. Copy get-r730xd-temps.sh to /usr/local/bin/:
sudo cp get-r730xd-temps.sh /usr/local/bin/
sudo chmod +x /usr/local/bin/get-r730xd-temps.sh

2. Copy ssh-restrict-temps.sh to /usr/local/bin/:
sudo cp ssh-restrict-temps.sh /usr/local/bin/
sudo chmod +x /usr/local/bin/ssh-restrict-temps.sh

3. Test:
/usr/local/bin/get-r730xd-temps.sh
Expected: {"cpu_temp": 43.0, "raid_temp": 44.0}

IN HOME ASSISTANT:

1. Edit configuration.yaml
2. Add the content from sensors.yaml to the sensor section
3. Add the content from automations.yaml to the automation section
4. Restart Home Assistant: Settings > System > Restart

5. Verify: Settings > Devices & Services > Entities
   Search "R730XD" - should see both temperature sensors


FILE DESCRIPTIONS
=================

README.md
- Overview of the project
- Features and requirements
- Links to other documentation

QUICKSTART.md
- Fast 5-minute setup guide
- Essential steps only
- Good for getting started quickly

DETAILED_SETUP.md
- Complete reference guide
- All troubleshooting steps
- SSH key setup details
- Architecture diagrams

scripts/get-r730xd-temps.sh
- Reads CPU and RAID temperatures
- Outputs JSON format
- Runs on Proxmox
- Called every 30 seconds by Home Assistant

scripts/ssh-restrict-temps.sh
- SSH wrapper script
- Calls get-r730xd-temps.sh
- Restricts what can be run over SSH

ha-config/sensors.yaml
- Home Assistant sensor definitions
- Reads CPU and RAID temps via SSH
- Updates every 30 seconds

ha-config/automations.yaml
- Home Assistant automations
- Alerts at 48°C (warning)
- Alerts at 55°C (critical)

.gitignore
- Prevents secrets from being committed
- Ignores SSH keys, temp files, etc.


TROUBLESHOOTING
===============

If you get errors when pushing to GitHub:

1. Check if remote is correct:
git remote -v
Should show: origin https://github.com/YOUR_USERNAME/ha-proxmox-monitoring.git

2. If wrong, fix it:
git remote remove origin
git remote add origin https://github.com/YOUR_USERNAME/ha-proxmox-monitoring.git

3. Try push again:
git push -u origin main

If temperatures show null in Home Assistant:
- See DETAILED_SETUP.md troubleshooting section
- Verify Proxmox scripts are in /usr/local/bin/
- Test scripts manually on Proxmox
- Check SSH connectivity from HA to Proxmox


NEXT STEPS
==========

1. Get temperatures showing in HA dashboard
2. Set up mobile push notifications
3. Add Discord bot for alerts (optional)
4. Share your repo on GitHub (optional)
5. Create nice HA dashboard card


SUPPORT
=======

If something doesn't work:
1. Check DETAILED_SETUP.md troubleshooting
2. Verify file permissions: ls -la /usr/local/bin/*temps*
3. Test sensors directly: /usr/local/bin/get-r730xd-temps.sh
4. Check HA logs: Settings > System > Logs


YOU'RE READY!
=============

You now have a complete, production-ready monitoring setup for your R730XD.

Questions? Check the documentation files in your repo!
